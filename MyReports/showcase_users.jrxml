<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.1.1.final using JasperReports Library version 6.1.1  -->
<!-- 2016-06-09T10:47:41 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="showcase_users" pageWidth="1224" pageHeight="792" orientation="Landscape" columnWidth="1184" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="aed7438a-61b5-4356-88d1-08d416e6da1b">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="deepthought"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="ireport.jasperserver.url" value="http://jasper:8080/jasperserver/"/>
	<property name="ireport.jasperserver.user" value="howard"/>
	<property name="ireport.jasperserver.report.resource" value="/Reports/showcase_users_files/main_jrxml"/>
	<property name="ireport.jasperserver.reportUnit" value="/Reports/showcase_users"/>
	<queryString>
		<![CDATA[select initcap(u.fname) || ' ' || initcap(u.lname) as "user", u.email, coalesce(u.src_doc->>'company',o.name) as company ,
(u.created_ts at time zone 'America/New_York')::date as signed_up_date, 
case u.status when 'new' then 'Unconfirmed' when 'active' then 'Activated' else u.status end as status, 
r.name as referral,
p.name as promotion,
c.name as campaign,
uu.unique_user_views as user_views,
uu.first_view_ts at time zone 'America/New_York' as first_view ,
uu.last_view_ts at time zone 'America/New_York' as latest_view
from dim.user u
left join dim.org o on u.org_id = o.org_id AND o.end_ts = dim.sp_end_of_time()
left join dim.v_user_role ur ON u.user_id = ur.user_id
left join dim.v_org_promotion op on u.org_id = op.org_id
left join dim.promotion p on op.promo_id = p.promo_id and p.end_ts = dim.sp_end_of_time()
left join dim.referral_code r on u.referral_code = r.code and r.end_ts = dim.sp_end_of_time()
left join dim.campaign c on c.user_id = u.user_id AND c.end_ts = dim.sp_end_of_time() and c.status = 'active'
left join rpt.unique_user_views uu on uu.campaign_id = c.campaign_id
where u.end_ts = dim.sp_end_of_time() and u.self_serve = 't' and ur.system_role = 'showcaseUser'
and u.status <> 'deleted'
order by coalesce(uu.unique_user_views,0) desc;]]>
	</queryString>
	<field name="user" class="java.lang.String"/>
	<field name="email" class="java.lang.String"/>
	<field name="company" class="java.lang.String"/>
	<field name="signed_up_date" class="java.sql.Date"/>
	<field name="status" class="java.lang.String"/>
	<field name="referral" class="java.lang.String"/>
	<field name="promotion" class="java.lang.String"/>
	<field name="campaign" class="java.lang.String"/>
	<field name="user_views" class="java.lang.Integer"/>
	<field name="first_view" class="java.sql.Timestamp"/>
	<field name="latest_view" class="java.sql.Timestamp"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<columnHeader>
		<band height="31" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="122" height="30" uuid="2f0fd99e-de48-4c75-b1d1-4f48573e5859"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[User]]></text>
			</staticText>
			<staticText>
				<reportElement x="122" y="0" width="158" height="30" uuid="c0788af5-57b3-4745-900e-079a57b10f79"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Email]]></text>
			</staticText>
			<staticText>
				<reportElement x="280" y="0" width="76" height="30" uuid="d09fd7cb-a7d6-441e-a8c5-4fa250c5a13d"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Signed Up]]></text>
			</staticText>
			<staticText>
				<reportElement x="356" y="0" width="82" height="30" uuid="5359f08a-a071-431e-a3f7-065120f68fde"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Status]]></text>
			</staticText>
			<staticText>
				<reportElement x="438" y="0" width="118" height="30" uuid="b80cf0a6-adbd-4530-a012-0dc4626d8542"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Referred by]]></text>
			</staticText>
			<staticText>
				<reportElement x="556" y="0" width="158" height="30" uuid="6649df50-f4e2-4bb1-96e8-53caeac0eb7b"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Promotion]]></text>
			</staticText>
			<staticText>
				<reportElement x="714" y="0" width="118" height="30" uuid="213195a3-1953-496c-a801-aae1c339cd24"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Campaign]]></text>
			</staticText>
			<staticText>
				<reportElement x="832" y="0" width="70" height="30" uuid="c697cca7-e958-4d43-98b1-59721a4f5b2e"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[User Views]]></text>
			</staticText>
			<staticText>
				<reportElement x="902" y="0" width="104" height="30" uuid="e67b7870-5f3f-4bed-b40f-b1ce7241c70c"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[First View]]></text>
			</staticText>
			<staticText>
				<reportElement x="1006" y="0" width="104" height="30" uuid="a05c8911-09bc-4fd4-b67f-8e4b90933a5c"/>
				<box>
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isBold="true"/>
				</textElement>
				<text><![CDATA[Latest View]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="31" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="122" height="30" uuid="e9a5f35d-8b80-425e-b62c-021f72bc991d"/>
				<box leftPadding="4" rightPadding="4">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{user}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="122" y="0" width="158" height="30" uuid="30e227ae-43b1-4eb8-8f91-79788f7ad733"/>
				<box leftPadding="4" rightPadding="4">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{email}]]></textFieldExpression>
			</textField>
			<textField pattern="M/d/yy">
				<reportElement x="280" y="0" width="76" height="30" uuid="528bde73-8177-4137-a23e-04ad5305e6c8">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box leftPadding="4" rightPadding="4">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{signed_up_date}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="356" y="0" width="82" height="30" uuid="ad9a3343-0c05-41e9-bf8e-8080a75d0bb8"/>
				<box leftPadding="4" rightPadding="4">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{status}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="438" y="0" width="118" height="30" uuid="12cad273-a3af-4341-a446-2885252eb343"/>
				<box leftPadding="4" rightPadding="4">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{referral}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="556" y="0" width="158" height="30" uuid="c69d9b16-eb2c-4b39-bbf6-54038bddfd69">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box leftPadding="4" rightPadding="4">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{promotion}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="714" y="0" width="118" height="30" uuid="3df4fec1-2ffa-4d85-862f-e6f6f305381f"/>
				<box leftPadding="4" rightPadding="4">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{campaign}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="832" y="0" width="70" height="30" uuid="f7c28565-f958-4139-92dc-7ac6eaaabde8"/>
				<box leftPadding="4" rightPadding="4">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{user_views}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="902" y="0" width="104" height="30" uuid="db211ca0-252c-462e-812b-25dc64136f5b">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box leftPadding="4" rightPadding="4">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{first_view}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="1006" y="0" width="104" height="30" uuid="05144df3-28db-481f-ba64-dc17f8c1a963">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box leftPadding="4" rightPadding="4">
					<topPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.5" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$F{latest_view}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
